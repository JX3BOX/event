{"version":3,"sources":["webpack:///./src/pages/namespace/Form.vue?318f","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/pages/namespace/Index.vue","webpack:///./src/pages/namespace/Content.vue","webpack:///./src/service/namespace.js","webpack:///./src/pages/namespace/Form.vue","webpack:///src/pages/namespace/Form.vue","webpack:///./src/pages/namespace/Form.vue?fc23","webpack:///./src/pages/namespace/Form.vue?2706","webpack:///src/pages/namespace/Content.vue","webpack:///./src/pages/namespace/Content.vue?3090","webpack:///./src/pages/namespace/Content.vue?e9be","webpack:///src/pages/namespace/Index.vue","webpack:///./src/pages/namespace/Index.vue?40ca","webpack:///./src/pages/namespace/Index.vue?3d00","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/pages/namespace/Content.vue?272e"],"names":["$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","render","_vm","_c","_self","staticClass","class","page_name","attrs","eventLink","imgRoot","staticRenderFns","isLogin","userInfo","avatar","_v","_s","name","_e","on","add","isDefaultHost","changeList","isMyList","title","_l","tabs","item","i","key","active","type","value","$event","change","label","slot","onSearch","nativeOn","indexOf","_k","keyCode","apply","arguments","model","search","callback","$$v","expression","directives","rawName","loading","list","length","buildLink","status","desc","user","display_name","dataFormat","created","stopPropagation","edit","per","total","page","visible","close","data","update","getNamespaceList","params","$cms","get","getNamespace","$helper","method","url","updateNamespace","id","put","concat","createNamespace","post","getNamespaceByKey","_m","count","rules","form","checkAvailable","$set","available","checkLink","link","ready","processing","onSubmit","props","required","message","trigger","computed","isEditMode","mode","source_type","watch","immediate","handler","includes","replace","methods","$emit","val","_this","then","res","_this2","profile","User","getInfo","ID","__index","index","onSuccess","finally","$notify","success","showClose","_this3","getAsset","namespace_card_count","component","query","location","origin","components","Form","register_link","publishLink","_params","deep","newVal","loadMyData","loadData","namespace","setTimeout","removeEmpty","Object","assign","map","_link","cloneDeep","_this$params","limit","nickname","obj","keys","forEach","undefined","showDate","toLogin","href","__Root","source_id","$route","Content","__imgPath","postStat","PROPER_FUNCTION_NAME","PROPER","fails","whitespaces","non","module","exports","METHOD_NAME"],"mappings":"kHAAA,W,oCCCA,IAAIA,EAAI,EAAQ,QACZC,EAAQ,EAAQ,QAA4BC,KAC5CC,EAAyB,EAAQ,QAIrCH,EAAE,CAAEI,OAAQ,SAAUC,OAAO,EAAMC,OAAQH,EAAuB,SAAW,CAC3ED,KAAM,WACJ,OAAOD,EAAMM,U,2CCTjB,IAAIC,EAAS,WAAkB,IAAIC,EAAIF,KAAKG,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,UAAUC,MAAM,KAAOJ,EAAIK,WAAW,CAACJ,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,UAAUF,EAAG,WAAWA,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,IAAI,CAACE,YAAY,SAASG,MAAM,CAAC,KAAON,EAAIO,UAAU,OAAS,YAAYN,EAAG,MAAM,CAACE,YAAY,QAAQG,MAAM,CAAC,IAAMN,EAAIQ,QAAU,aAAaP,EAAG,MAAM,CAACE,YAAY,UAAUG,MAAM,CAAC,IAAMN,EAAIQ,QAAU,kBAAkB,MAExdC,EAAkB,GCFlBV,G,wCAAS,WAAkB,IAAIC,EAAIF,KAAKG,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAAEH,EAAIU,QAAS,CAACT,EAAG,MAAM,CAACE,YAAY,QAAQG,MAAM,CAAC,IAAMN,EAAIW,SAASC,UAAUX,EAAG,OAAO,CAACE,YAAY,UAAU,CAACH,EAAIa,GAAGb,EAAIc,GAAGd,EAAIW,SAASI,UAAUf,EAAIgB,MAAM,GAAGf,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,YAAY,CAACE,YAAY,mBAAmBc,GAAG,CAAC,MAAQjB,EAAIkB,MAAM,CAAClB,EAAIa,GAAG,UAAWb,EAAImB,eAAiBnB,EAAIU,QAAST,EAAG,YAAY,CAACE,YAAY,eAAec,GAAG,CAAC,MAAQjB,EAAIoB,aAAa,CAACpB,EAAIa,GAAG,IAAIb,EAAIc,GAAGd,EAAIqB,SAAW,OAAS,QAAQ,OAAOrB,EAAIgB,MAAM,KAAKf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,OAAO,CAACE,YAAY,WAAW,CAACH,EAAIa,GAAGb,EAAIc,GAAGd,EAAIsB,UAAUrB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,UAAUH,EAAIuB,GAAIvB,EAAIwB,MAAM,SAASC,EAAKC,GAAG,OAAOzB,EAAG,OAAO,CAAC0B,IAAID,EAAEtB,MAAM,CAAC,CAAEwB,OAAQ5B,EAAI6B,MAAQJ,EAAKK,OAAS,SAASb,GAAG,CAAC,MAAQ,SAASc,GAAQ,OAAO/B,EAAIgC,OAAOP,EAAKK,UAAU,CAAC9B,EAAIa,GAAGb,EAAIc,GAAGW,EAAKQ,aAAY,GAAGhC,EAAG,MAAM,CAAC0B,IAAI,mBAAmBxB,YAAY,WAAWG,MAAM,CAAC,KAAO,iBAAiB4B,KAAK,iBAAiB,CAACjC,EAAG,WAAW,CAACE,YAAY,UAAUG,MAAM,CAAC,YAAc,UAAU,UAAY,IAAIW,GAAG,CAAC,MAAQjB,EAAImC,UAAUC,SAAS,CAAC,QAAU,SAASL,GAAQ,OAAIA,EAAOF,KAAKQ,QAAQ,QAAQrC,EAAIsC,GAAGP,EAAOQ,QAAQ,QAAQ,GAAGR,EAAOJ,IAAI,SAAgB,KAAY3B,EAAImC,SAASK,MAAM,KAAMC,aAAaC,MAAM,CAACZ,MAAO9B,EAAI2C,OAAQC,SAAS,SAAUC,GAAM7C,EAAI2C,OAAuB,kBAARE,EAAkBA,EAAIpD,OAAQoD,GAAMC,WAAW,WAAW,CAAC7C,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,SAAS,KAAO,kBAAkBW,GAAG,CAAC,MAAQjB,EAAImC,UAAUD,KAAK,YAAY,IAAI,OAAOjC,EAAG,MAAM,CAAC8C,WAAW,CAAC,CAAChC,KAAK,UAAUiC,QAAQ,YAAYlB,MAAO9B,EAAIiD,QAASH,WAAW,YAAY3C,YAAY,SAASC,MAAM,CAAEiB,SAAUrB,EAAIqB,WAAY,CAAErB,EAAIkD,KAAKC,OAAQnD,EAAIuB,GAAIvB,EAAIkD,MAAM,SAASzB,EAAKC,GAAG,OAAOzB,EAAG,MAAM,CAAC0B,IAAID,EAAEvB,YAAY,UAAU,CAACF,EAAG,IAAI,CAACE,YAAY,UAAUG,MAAM,CAAC,OAAS,SAAS,KAAON,EAAIoD,UAAU3B,KAAQ,CAACxB,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACE,YAAY,qBAAqBF,EAAG,OAAO,CAACD,EAAIa,GAAGb,EAAIc,GAAGW,EAAKE,UAA0B,GAAfF,EAAK4B,OAAapD,EAAG,SAAS,CAACE,YAAY,QAAQG,MAAM,CAAC,KAAO,WAAW,CAACN,EAAIa,GAAG,SAAUb,EAAIqB,SAAUpB,EAAG,SAAS,CAACE,YAAY,QAAQG,MAAM,CAAC,KAAOmB,EAAK4B,OAAS,UAAY,SAAS,CAACrD,EAAIa,GAAG,IAAIb,EAAIc,GAAGW,EAAK4B,OAAS,MAAQ,OAAO,OAAOpD,EAAG,OAAO,CAACE,YAAY,eAAe,CAACH,EAAIa,GAAG,WAAWb,EAAIc,GAAGW,EAAKE,SAAS,GAAG1B,EAAG,OAAO,CAACE,YAAY,UAAU,CAACH,EAAIa,GAAGb,EAAIc,GAAGW,EAAK6B,SAASrD,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAAEsB,EAAK8B,KAAMtD,EAAG,OAAO,CAACE,YAAY,UAAU,CAACF,EAAG,IAAI,CAACE,YAAY,iBAAiBH,EAAIa,GAAGb,EAAIc,GAAGW,EAAK8B,KAAKC,cAAc,OAAOxD,EAAIgB,KAAKf,EAAG,OAAO,CAACA,EAAG,IAAI,CAACE,YAAY,iBAAiBH,EAAIa,GAAGb,EAAIc,GAAGd,EAAIyD,WAAWhC,EAAKiC,eAAezD,EAAG,YAAY,CAACE,YAAY,SAASG,MAAM,CAAC,KAAO,QAAQW,GAAG,CAAC,MAAQ,SAASc,GAAiC,OAAzBA,EAAO4B,kBAAyB3D,EAAI4D,KAAKnC,EAAMC,MAAM,CAACzB,EAAG,IAAI,CAACE,YAAY,iBAAiBH,EAAIa,GAAG,WAAW,QAAOZ,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACH,EAAIa,GAAG,eAAe,GAAGZ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,gBAAgB,CAACK,MAAM,CAAC,WAAa,GAAG,OAAS,oBAAoB,uBAAsB,EAAK,YAAYN,EAAI6D,IAAI,MAAQ7D,EAAI8D,MAAM,eAAe9D,EAAI+D,MAAM9C,GAAG,CAAC,qBAAqB,SAASc,GAAQ/B,EAAI+D,KAAKhC,GAAQ,sBAAsB,SAASA,GAAQ/B,EAAI+D,KAAKhC,OAAY,KAAK9B,EAAG,YAAY,CAACK,MAAM,CAAC,MAAQ,OAAO,QAAUN,EAAIgE,QAAQ,MAAQ,MAAM,eAAehE,EAAIiE,OAAOhD,GAAG,CAAC,iBAAiB,SAASc,GAAQ/B,EAAIgE,QAAQjC,KAAU,CAAC9B,EAAG,OAAO,CAACK,MAAM,CAAC,KAAON,EAAIkE,MAAMjD,GAAG,CAAC,MAAQjB,EAAIiE,MAAM,OAASjE,EAAImE,WAAW,IAAI,KAEtmH1D,EAAkB,G,oFCEtB,SAAS2D,EAAiBC,GACtB,OAAOC,iBAAOC,IAAI,qBAAsB,CACpCF,WAIR,SAASG,EAAaH,GAClB,OAAOI,iBAAU,CACbC,OAAQ,MACRC,IAAK,qBACLN,OAAQA,IAIhB,SAASO,EAAgBC,EAAIX,GACzB,OAAOI,iBAAOQ,IAAI,sBAADC,OAAuBF,GAAMX,GAGlD,SAASc,EAAgBd,GACrB,OAAOI,iBAAOW,KAAK,qBAAsBf,GAG7C,SAASgB,EAAkBvD,GACvB,OAAO2C,iBAAOC,IAAI,yBAA0B,CACxCF,OAAQ,CACJ1C,S,gEC7BR5B,EAAS,WAAkB,IAAIC,EAAIF,KAAKG,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACH,EAAImF,GAAG,GAAGlF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,OAAO,CAACE,YAAY,eAAe,CAACH,EAAIa,GAAG,cAAcZ,EAAG,IAAI,CAACD,EAAIa,GAAGb,EAAIc,GAAGd,EAAIoF,UAAUpF,EAAIa,GAAG,SAASb,EAAImF,GAAG,OAAOlF,EAAG,UAAU,CAACE,YAAY,2BAA2BG,MAAM,CAAC,MAAQN,EAAIqF,MAAM,MAAQrF,EAAIsF,OAAO,CAACrF,EAAG,eAAe,CAACE,YAAY,UAAUG,MAAM,CAAC,MAAQ,MAAM,KAAO,QAAQ,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,UAAY,GAAG,YAAc,WAAWW,GAAG,CAAC,KAAO,SAASc,GAAQ,OAAO/B,EAAIuF,eAAevF,EAAIsF,KAAK3D,OAAOe,MAAM,CAACZ,MAAO9B,EAAIsF,KAAK3D,IAAKiB,SAAS,SAAUC,GAAM7C,EAAIwF,KAAKxF,EAAIsF,KAAM,MAAOzC,IAAMC,WAAW,cAAe9C,EAAIsF,KAAK3D,MAAQ3B,EAAIyF,UAAWxF,EAAG,WAAW,CAACE,YAAY,cAAcG,MAAM,CAAC,MAAQ,cAAc,KAAO,QAAQ,YAAY,MAAMN,EAAIgB,MAAM,GAAGf,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,UAAY,GAAG,YAAc,WAAWW,GAAG,CAAC,KAAO,SAASc,GAAQ,OAAO/B,EAAI0F,UAAU1F,EAAIsF,KAAK3D,OAAOe,MAAM,CAACZ,MAAO9B,EAAIsF,KAAKK,KAAM/C,SAAS,SAAUC,GAAM7C,EAAIwF,KAAKxF,EAAIsF,KAAM,OAAQzC,IAAMC,WAAW,cAAc,CAAC7C,EAAG,WAAW,CAACiC,KAAK,WAAW,CAAClC,EAAIa,GAAG,eAAe,IAAI,GAAGZ,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,OAAO,CAACL,EAAG,WAAW,CAACK,MAAM,CAAC,YAAc,aAAa,UAAY,KAAK,kBAAkB,IAAIoC,MAAM,CAACZ,MAAO9B,EAAIsF,KAAKhC,KAAMV,SAAS,SAAUC,GAAM7C,EAAIwF,KAAKxF,EAAIsF,KAAM,OAAQzC,IAAMC,WAAW,gBAAgB,GAAG7C,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,WAAW,CAACL,EAAG,YAAY,CAACgB,GAAG,CAAC,MAAQjB,EAAIiE,QAAQ,CAACjE,EAAIa,GAAG,QAAQZ,EAAG,YAAY,CAACE,YAAY,WAAWG,MAAM,CAAC,KAAO,UAAU,UAAYN,EAAI4F,OAAS5F,EAAI6F,YAAY5E,GAAG,CAAC,MAAQjB,EAAI8F,WAAW,CAAC9F,EAAIa,GAAG,WAAW,IAAI,IAAI,IAE7sDJ,EAAkB,CAAC,WAAY,IAAIT,EAAIF,KAAKG,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,SAAS,CAACH,EAAIa,GAAG,0DAA4DZ,EAAG,IAAI,CAACK,MAAM,CAAC,KAAO,wBAAwB,OAAS,WAAW,CAACL,EAAG,IAAI,CAACD,EAAIa,GAAG,qBAAqBb,EAAIa,GAAG,iBACtR,WAAY,IAAIb,EAAIF,KAAKG,EAAGD,EAAIE,MAAMD,GAAG,OAAOA,EAAG,IAAI,CAACE,YAAY,+CAA+CG,MAAM,CAAC,KAAO,iDAAiD,OAAS,WAAW,CAACL,EAAG,IAAI,CAACE,YAAY,4BAA4BH,EAAIa,GAAG,c,UCwEjP,OACfE,KAAA,YACAgF,MAAA,SACA7B,KAAA,WACA,OACAkB,MAAA,EACAK,WAAA,EACAI,YAAA,EACAP,KAAA,GACA3D,IAAA,GACA0D,MAAA,CACA1D,IAAA,CACA,CACAqE,UAAA,EACAC,QAAA,UACAC,QAAA,SAGAP,KAAA,CACA,CACAK,UAAA,EACAC,QAAA,UACAC,QAAA,YAMAC,SAAA,CACAC,WAAA,WACA,mBAAAlC,KAAAmC,MAEAhC,OAAA,WACA,OACA1C,IAAA,KAAA2D,KAAA3D,IACA2B,KAAA,KAAAgC,KAAAhC,KACAqC,KAAA,gBAAAL,KAAAK,KACAW,YAAA,WAIAV,MAAA,WACA,YAAAQ,WAAA,KAAAX,WAAA,KAAAH,KAAAK,KACA,KAAAF,WAAA,KAAAH,KAAAK,MAAA,KAAAP,QAGAmB,MAAA,CACA,aACAC,WAAA,EACAC,QAAA,SAAAnB,IACAA,EAAAK,KAAAe,SAAA,YAAApB,EAAAK,KAAAe,SAAA,eACApB,EAAAK,KAAAL,EAAAK,KAAAgB,QAAA,oBAEA,KAAArB,OACA,KAAA3D,IAAA2D,EAAA3D,OAIAiF,QAAA,CACA3C,MAAA,SAAAtC,GACA,KAAAkF,MAAA,QAAAlF,IAEA+D,UAAA,SAAAoB,GACA,GAAAA,EAAA,CACA,IAAAnB,EAAA,KAAAL,KAAAK,MACAA,EAAAe,SAAA,YAAAf,EAAAe,SAAA,eACA,KAAApB,KAAAK,OAAAgB,QAAA,sBAIApB,eAAA,SAAAuB,GAAA,IAAAC,EAAA,KACAD,GACA5B,EAAA4B,GAAAE,MAAA,SAAAC,GACAA,EAAA/C,UAGA6C,EAAAtB,aAAAsB,EAAAX,YAAAW,EAAApF,KAAAsF,EAAA/C,UAAAvC,KAFAoF,EAAAtB,WAAA,MAMAK,SAAA,eAAAoB,EAAA,KACA,YAAA5B,KAAAhC,KAAA,CACA,IAAA6D,EAAAC,OAAAC,UACA,KAAAhD,OAAAf,KAAA6D,EAAApG,KAAA,KAEA,KAAA8E,YAAA,EACA,KAAAO,WACAxB,EAAA,KAAAU,KAAAgC,GAAA,KAAAjD,QACA2C,MAAA,WACAE,EAAA5B,KAAAiC,QAAAL,EAAAhD,KAAAsD,MACAN,EAAAO,eAEAC,SAAA,WACAR,EAAArB,YAAA,KAGAb,EAAA,KAAAX,QACA2C,MAAA,SAAAC,GACAC,EAAA5B,KAAA/B,KAAA,CACAC,aAAA,IAEA0D,EAAAO,YACAP,EAAA9B,OAAA,KAEAsC,SAAA,WACAR,EAAArB,YAAA,MAIA4B,UAAA,WACA,KAAAE,QAAAC,QAAA,CAAAtG,MAAA,KAAA2E,QAAA,OAAA4B,WAAA,IACA,KAAA5D,MAAA,WACA,KAAA4C,MAAA,cAAAvB,QAIA5B,QAAA,eAAAoE,EAAA,KACAV,OAAAW,WAAAf,MAAA,SAAA9C,GACA4D,EAAA1C,MAAAlB,EAAA8D,0BCjM2Z,I,wBCQvZC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCmFA,GACflH,KAAA,UACAmD,KAAA,WACA,OACArC,KAAA,MACAL,KAAA,CACA,CAAAS,MAAA,KAAAH,MAAA,OACA,CAAAG,MAAA,KAAAH,MAAA,UACA,CAAAG,MAAA,KAAAH,MAAA,QACA,CAAAG,MAAA,KAAAH,MAAA,UACA,CAAAG,MAAA,MAAAH,MAAA,WAGAoB,KAAA,GACAW,IAAA,EACAC,MAAA,EACAC,KAAA,EAEApB,OAAA,GACAuF,MAAA,GACAjF,SAAA,EAEAvC,QAAA0G,OAAA1G,UACAC,SAAAyG,OAAAC,UACAhG,UAAA,EAEA2C,SAAA,EACAsB,KAAA,CACA3D,IAAA,GACA2B,KAAA,GACAqC,KAAA,IAEAzB,KAAA,GAEA/C,eAAAgH,SAAAC,OAAA1B,SAAA,gBAGA2B,WAAA,CACAC,QAEAnC,SAAA,CACAoC,cAAA,WACA,OAAAC,yBAAA,cAEAnE,OAAA,WACA,IAAAoE,EAAA,CACAnC,YAAA,YAAAzE,KAAA,QAAAA,KACAkC,KAAA,KAAAA,KACAF,IAAA,KAAAA,IACAR,OAAA,GAEA,OAAAoF,GAEAnH,MAAA,WACA,YAAAD,SAAA,gBAGAkF,MAAA,CACA1E,KAAA,WACA,KAAAkC,KAAA,GAEAM,OAAA,CACAqE,MAAA,EACAlC,WAAA,EACAC,QAAA,SAAAkC,GACA,KAAAT,MAAA,GACA,KAAA7G,SAAA,KAAAuH,aAAA,KAAAC,aAGA,gBACAH,MAAA,EACAlC,WAAA,EACAC,QAAA,SAAAkC,GAAA,IAAA5B,EAAA,KACA4B,EAAAG,YACA,KAAAnG,OAAAgG,EAAAG,UACAC,YAAA,WACAhC,EAAA5E,aACA,SAKAyE,QAAA,CACA5E,OAAA,SAAAL,GACA,KAAAE,KAAAF,GAEAkH,SAAA,eAAA3B,EAAA,KACA,KAAAjE,SAAA,EACA,IAAAoB,EAAA,KAAA2E,YACAC,OAAAC,OAAA,QAAA7E,OAAA,CACA1C,IAAA,KAAAgB,UAGAyB,EAAAC,GACA2C,MAAA,SAAAC,GACAC,EAAAhE,KACA+D,EAAA/C,UAAAhB,KAAAiG,KAAA,SAAA1H,GAEA,OADAA,EAAA2H,MAAAC,uBAAA5H,EAAAkE,MACAlE,MACA,GACAyF,EAAApD,MAAAmD,EAAA/C,UAAAJ,SAEA4D,SAAA,WACAR,EAAAjE,SAAA,MAGA2F,WAAA,eAAAd,EAAA,KACA,KAAA7E,SAAA,EACA,IAAAqG,EAAA,KAAAjF,OAAAiC,EAAAgD,EAAAhD,YAAAvC,EAAAuF,EAAAvF,KAAAF,EAAAyF,EAAAzF,IAAAR,EAAAiG,EAAAjG,OACAgB,EAAA,KAAA2E,YAAA,CACArH,IAAA,KAAAgB,OACA2D,cACAvC,OACAwF,MAAA1F,EACAR,WAEAmB,EAAAH,GACA2C,MAAA,SAAAC,GACA,IAAA/D,EAAA+D,EAAA/C,gBAAA,GACA4D,EAAA5E,OAAAiG,KAAA,SAAA1H,GAGA,OAFAA,EAAA2H,MAAAC,uBAAA5H,EAAAkE,MACAlE,EAAA8B,KAAAC,aAAA/B,EAAA8B,KAAAiG,SACA/H,KAEAqG,EAAAhE,MAAAmD,EAAA/C,UAAAJ,SAEA4D,SAAA,WACAI,EAAA7E,SAAA,MAGA+F,YAAA,SAAAS,GAMA,OALAR,OAAAS,KAAAD,GAAAE,SAAA,SAAAhI,GACA,OAAA8H,EAAA9H,SAAAiI,IAAAH,EAAA9H,IAAA,KAAA8H,EAAA9H,WACA8H,EAAA9H,MAGA8H,GAEAtH,SAAA,WACA,WAAA4B,KAAA,YAAAA,KAAA,EACA,KAAA8E,YAEApF,WAAA,SAAAqD,GACA,OAAAA,GAAA+C,eAAA,MAAA/C,IAAA,KAEA1F,WAAA,WACA,KAAAV,UACA,KAAAW,UAAA,KAAAA,SACA,KAAAA,SAAA,KAAAuH,aAAA,KAAAC,aAEA5E,MAAA,SAAAtC,GACA,KAAAqC,SAAA,EACA,WAAArC,GAAA,KAAAiH,cAEA1H,IAAA,WACA,QAAAC,cAAA,CAKA,SAAAT,QAAA,OAAA0G,OAAA0C,UAEA,KAAA9F,SAAA,EACA,KAAAE,KAAA,CACAmC,KAAA,MACAf,KAAA+D,uBAAA,KAAA/D,YATA6C,SAAA4B,KAAA,GAAAhF,OAAAiF,YAAA,oBAYApG,KAAA,SAAAnC,EAAAC,GACA,KAAAsC,SAAA,EACA,KAAAE,KAAA,CACAmC,KAAA,OACAf,KAAA+D,uBAAA5H,GACA+F,MAAA9F,IAGAyC,OAAA,SAAAmB,GACAA,EAAAgC,GACA,KAAApE,KAAAoC,EAAAiC,SAAAjC,EAEA,KAAAjE,UAAA,KAAAuH,cAGAxF,UAAA,SAAA3B,GACA,cAAAA,EAAA6E,YACA0D,YAAA,YAAAvI,EAAAwI,UAEAxI,EAAA2H,OAAAY,YAAA,cAAAvI,EAAAE,MAIA+B,QAAA,WACA,KAAAwE,MAAA,KAAAgC,OAAAhC,MAAAY,YCtS8Z,ICQ1Z,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,oBCAA,GACf/H,KAAA,QACAsH,WAAA,CACA8B,WAEAjG,KAAA,WACA,OACA1D,QAAA4J,eAAA,qBAGAjE,SAAA,CACA9F,UAAA,WACA,mBAEAE,UAAA,WACA,OAAAyJ,YAAA,UAGAtG,QAAA,WACA2G,eAAA,uBCtC4Z,ICOxZ,EAAY,eACd,EACAtK,EACAU,GACA,EACA,KACA,KACA,MAIa,e,kECjBf,IAAI6J,EAAuB,EAAQ,QAA8BC,OAC7DC,EAAQ,EAAQ,QAChBC,EAAc,EAAQ,QAEtBC,EAAM,MAIVC,EAAOC,QAAU,SAAUC,GACzB,OAAOL,GAAM,WACX,QAASC,EAAYI,MAChBH,EAAIG,OAAmBH,GACtBJ,GAAwBG,EAAYI,GAAa9J,OAAS8J,O,yDCbpE","file":"js/chunk-305fed5b.319396b3.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Form.vue?vue&type=style&index=0&id=4f57adf6&prod&lang=less&\"","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"p-event\",class:'v-' + _vm.page_name},[_c('div',{staticClass:\"p-event-content\"},[_c('div',{staticClass:\"m-top\"}),_c('Content'),_c('div',{staticClass:\"m-bottom\"},[_c('a',{staticClass:\"u-link\",attrs:{\"href\":_vm.eventLink,\"target\":\"_blank\"}}),_c('img',{staticClass:\"m-man\",attrs:{\"src\":_vm.imgRoot + 'man.png'}}),_c('img',{staticClass:\"m-woman\",attrs:{\"src\":_vm.imgRoot + 'woman.png'}})])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-content\"},[_c('div',{staticClass:\"m-user-info\"},[_c('div',{staticClass:\"m-name\"},[(_vm.isLogin)?[_c('img',{staticClass:\"u-img\",attrs:{\"src\":_vm.userInfo.avatar}}),_c('span',{staticClass:\"u-name\"},[_vm._v(_vm._s(_vm.userInfo.name))])]:_vm._e()],2),_c('div',{staticClass:\"m-button\"},[_c('el-button',{staticClass:\"u-btn u-register\",on:{\"click\":_vm.add}},[_vm._v(\"注册铭牌\")]),(_vm.isDefaultHost && _vm.isLogin)?_c('el-button',{staticClass:\"u-btn u-mine\",on:{\"click\":_vm.changeList}},[_vm._v(\" \"+_vm._s(_vm.isMyList ? \"全部铭牌\" : \"我的铭牌\")+\" \")]):_vm._e()],1)]),_c('div',{staticClass:\"m-namespace\"},[_c('div',{staticClass:\"m-tool\"},[_c('span',{staticClass:\"u-title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"m-search\"},[_c('div',{staticClass:\"m-tabs\"},_vm._l((_vm.tabs),function(item,i){return _c('span',{key:i,class:[{ active: _vm.type == item.value }, 'u-tab'],on:{\"click\":function($event){return _vm.change(item.value)}}},[_vm._v(_vm._s(item.label))])}),0),_c('div',{key:\"namespace-search\",staticClass:\"u-search\",attrs:{\"slot\":\"search-before\"},slot:\"search-before\"},[_c('el-input',{staticClass:\"u-input\",attrs:{\"placeholder\":\"请输入搜索内容\",\"clearable\":\"\"},on:{\"clear\":_vm.onSearch},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onSearch.apply(null, arguments)}},model:{value:(_vm.search),callback:function ($$v) {_vm.search=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"search\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.onSearch},slot:\"append\"})],1)],1)])]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"m-list\",class:{ isMyList: _vm.isMyList }},[(_vm.list.length)?_vm._l((_vm.list),function(item,i){return _c('div',{key:i,staticClass:\"m-item\"},[_c('a',{staticClass:\"m-title\",attrs:{\"target\":\"_blank\",\"href\":_vm.buildLink(item)}},[_c('div',{staticClass:\"u-title\"},[_c('i',{staticClass:\"el-icon-postcard\"}),_c('span',[_vm._v(_vm._s(item.key))])]),(item.status == 2)?_c('el-tag',{staticClass:\"u-tag\",attrs:{\"type\":\"danger\"}},[_vm._v(\"被驳回\")]):(_vm.isMyList)?_c('el-tag',{staticClass:\"u-tag\",attrs:{\"type\":item.status ? 'success' : 'info'}},[_vm._v(\" \"+_vm._s(item.status ? \"生效中\" : \"审核中\")+\" \")]):_c('span',{staticClass:\"u-tag u-jx3\"},[_vm._v(\"剑网3.com/\"+_vm._s(item.key))])],1),_c('span',{staticClass:\"u-desc\"},[_vm._v(_vm._s(item.desc))]),_c('div',{staticClass:\"m-info\"},[_c('div',{staticClass:\"m-text\"},[(item.user)?_c('span',{staticClass:\"u-name\"},[_c('i',{staticClass:\"el-icon-user\"}),_vm._v(_vm._s(item.user.display_name)+\" \")]):_vm._e(),_c('span',[_c('i',{staticClass:\"el-icon-date\"}),_vm._v(_vm._s(_vm.dataFormat(item.created)))])]),_c('el-button',{staticClass:\"u-edit\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.edit(item, i)}}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\" 编辑 \")])],1)])}):_c('span',{staticClass:\"m-item m-no-item\"},[_vm._v(\" 暂无对应铭牌 \")])],2),_c('div',{staticClass:\"m-namespace-pages\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"hide-on-single-page\":true,\"page-size\":_vm.per,\"total\":_vm.total,\"current-page\":_vm.page},on:{\"update:currentPage\":function($event){_vm.page=$event},\"update:current-page\":function($event){_vm.page=$event}}})],1)]),_c('el-dialog',{attrs:{\"title\":\"铭牌注册\",\"visible\":_vm.visible,\"width\":\"600\",\"before-close\":_vm.close},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('Form',{attrs:{\"data\":_vm.data},on:{\"close\":_vm.close,\"update\":_vm.update}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { $cms } from \"@jx3box/jx3box-common/js/https\";\nimport { $helper } from '@jx3box/jx3box-common/js/https.js'\n\n// 获取公开铭牌\nfunction getNamespaceList(params) {\n    return $cms().get(\"/api/cms/namespace\", {\n        params,\n    });\n}\n// 获取我的铭牌\nfunction getNamespace(params) {\n    return $helper()({\n        method: 'GET',\n        url: `/api/my/namespaces`,\n        params: params,\n    })\n}\n\nfunction updateNamespace(id, data) {\n    return $cms().put(`/api/cms/namespace/${id}`, data)\n}\n\nfunction createNamespace(data) {\n    return $cms().post('/api/cms/namespace', data)\n}\n\nfunction getNamespaceByKey(key) {\n    return $cms().get(`/api/cms/namespace-key`, {\n        params: {\n            key,\n        },\n    })\n}\n\nexport { getNamespaceList, getNamespace, updateNamespace, createNamespace, getNamespaceByKey };","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"m-namespace-box\"},[_c('div',{staticClass:\"m-header\"},[_vm._m(0),_c('div',{staticClass:\"u-count\"},[_c('span',{staticClass:\"u-count-txt\"},[_vm._v(\" 当前可建铭牌数： \"),_c('b',[_vm._v(_vm._s(_vm.count))]),_vm._v(\" 个 \")]),_vm._m(1)])]),_c('el-form',{staticClass:\"m-publish-namespace-form\",attrs:{\"rules\":_vm.rules,\"model\":_vm.form}},[_c('el-form-item',{staticClass:\"m-input\",attrs:{\"label\":\"关键词\",\"prop\":\"key\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"全局唯一关键词\"},on:{\"blur\":function($event){return _vm.checkAvailable(_vm.form.key)}},model:{value:(_vm.form.key),callback:function ($$v) {_vm.$set(_vm.form, \"key\", $$v)},expression:\"form.key\"}}),(_vm.form.key && !_vm.available)?_c('el-alert',{staticClass:\"u-available\",attrs:{\"title\":\"已有关键词，请重新输入\",\"type\":\"error\",\"show-icon\":\"\"}}):_vm._e()],1),_c('el-form-item',{attrs:{\"label\":\"链接\",\"prop\":\"link\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入跳转地址\"},on:{\"blur\":function($event){return _vm.checkLink(_vm.form.key)}},model:{value:(_vm.form.link),callback:function ($$v) {_vm.$set(_vm.form, \"link\", $$v)},expression:\"form.link\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"https://\")])],2)],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入关于铭牌的描述\",\"maxlength\":\"30\",\"show-word-limit\":\"\"},model:{value:(_vm.form.desc),callback:function ($$v) {_vm.$set(_vm.form, \"desc\", $$v)},expression:\"form.desc\"}})],1),_c('el-form-item',{attrs:{\"align\":\"center\"}},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"关闭\")]),_c('el-button',{staticClass:\"u-submit\",attrs:{\"type\":\"primary\",\"disabled\":!_vm.ready || _vm.processing},on:{\"click\":_vm.onSubmit}},[_vm._v(\" 提交 \")])],1)],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"u-tip\"},[_vm._v(\" 铭牌是一个可以通过关键词快速访问的功能，例如定义铭牌 \\\"某某气纯宏\\\"，则可以在浏览器地址栏中通过快速输入 \"),_c('a',{attrs:{\"href\":\"https://剑网3.com/某某气纯宏\",\"target\":\"_blank\"}},[_c('b',[_vm._v(\"剑网3.com/某某气纯宏\")])]),_vm._v(\" 访问你输入的链接 \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('a',{staticClass:\"el-button el-button--primary el-button--mini\",attrs:{\"href\":\"/vip/namespace?from=dashboard_namespace_create\",\"target\":\"_blank\"}},[_c('i',{staticClass:\"el-icon-shopping-cart-2\"}),_vm._v(\" 购买铭牌 \")])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"m-namespace-box\">\n        <div class=\"m-header\">\n            <div class=\"u-tip\">\n                铭牌是一个可以通过关键词快速访问的功能，例如定义铭牌 \"某某气纯宏\"，则可以在浏览器地址栏中通过快速输入\n                <a href=\"https://剑网3.com/某某气纯宏\" target=\"_blank\">\n                    <b>剑网3.com/某某气纯宏</b>\n                </a>\n                访问你输入的链接\n            </div>\n            <div class=\"u-count\">\n                <span class=\"u-count-txt\">\n                    当前可建铭牌数：\n                    <b>{{ count }}</b> 个\n                </span>\n                <a\n                    href=\"/vip/namespace?from=dashboard_namespace_create\"\n                    target=\"_blank\"\n                    class=\"el-button el-button--primary el-button--mini\"\n                >\n                    <i class=\"el-icon-shopping-cart-2\"></i>\n                    购买铭牌\n                </a>\n                <!-- <a\n                        href=\"/vip/namespace/?from=dashboard_namespace_create\"\n                        class=\"u-skip\"\n                        target=\"_blank\"\n                    >\n                        <span class=\"el-icon-connection\"></span>限时0.99元抢注10个铭牌\n                    </a> -->\n            </div>\n        </div>\n        <el-form class=\"m-publish-namespace-form\" :rules=\"rules\" :model=\"form\">\n            <el-form-item label=\"关键词\" prop=\"key\" class=\"m-input\">\n                <el-input\n                    v-model.lazy=\"form.key\"\n                    @blur=\"checkAvailable(form.key)\"\n                    clearable\n                    placeholder=\"全局唯一关键词\"\n                ></el-input>\n                <el-alert\n                    class=\"u-available\"\n                    v-if=\"form.key && !available\"\n                    title=\"已有关键词，请重新输入\"\n                    type=\"error\"\n                    show-icon\n                />\n            </el-form-item>\n            <el-form-item label=\"链接\" prop=\"link\">\n                <el-input v-model.lazy=\"form.link\" @blur=\"checkLink(form.key)\" clearable placeholder=\"请输入跳转地址\">\n                    <template slot=\"prepend\">https://</template>\n                </el-input>\n            </el-form-item>\n            <el-form-item label=\"描述\">\n                <el-input\n                    v-model=\"form.desc\"\n                    placeholder=\"请输入关于铭牌的描述\"\n                    maxlength=\"30\"\n                    show-word-limit\n                ></el-input>\n            </el-form-item>\n            <el-form-item align=\"center\">\n                <el-button @click=\"close\">关闭</el-button>\n                <el-button class=\"u-submit\" type=\"primary\" :disabled=\"!ready || processing\" @click=\"onSubmit\">\n                    提交\n                </el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\nimport { sterilizer } from \"sterilizer/index.js\";\nimport { createNamespace, updateNamespace, getNamespaceByKey } from \"@/service/namespace\";\nimport User from \"@jx3box/jx3box-common/js/user\";\nexport default {\n    name: \"namespace\",\n    props: [\"data\"],\n    data: function () {\n        return {\n            count: 0,\n            available: true,\n            processing: false,\n            form: {},\n            key: \"\",\n            rules: {\n                key: [\n                    {\n                        required: true,\n                        message: \"请输入铭牌名称\",\n                        trigger: \"blur\",\n                    },\n                ],\n                link: [\n                    {\n                        required: true,\n                        message: \"请输入链接网址\",\n                        trigger: \"blur\",\n                    },\n                ],\n            },\n        };\n    },\n    computed: {\n        isEditMode() {\n            return this.data.mode == \"edit\";\n        },\n        params: function () {\n            return {\n                key: this.form.key,\n                desc: this.form.desc,\n                link: \"https://\" + this.form.link,\n                source_type: \"custom\",\n            };\n        },\n\n        ready: function () {\n            if (this.isEditMode) return this.available && this.form.link;\n            return this.available && this.form.link && this.count;\n        },\n    },\n    watch: {\n        \"data.form\": {\n            immediate: true,\n            handler: function (form) {\n                if (form.link.includes(\"http://\") || form.link.includes(\"https://\")) {\n                    form.link = form.link.replace(/https?\\:\\/\\//, \"\");\n                }\n                this.form = form;\n                this.key = form.key;\n            },\n        },\n    },\n    methods: {\n        close(key) {\n            this.$emit(\"close\", key);\n        },\n        checkLink: function (val) {\n            if (!val) return;\n            const link = this.form.link;\n            if (link.includes(\"http://\") || link.includes(\"https://\")) {\n                this.form.link = link.replace(/https?\\:\\/\\//, \"\");\n            }\n        },\n\n        checkAvailable: function (val) {\n            if (!val) return;\n            getNamespaceByKey(val).then((res) => {\n                if (!res.data.data) {\n                    this.available = true;\n                } else {\n                    this.available = this.isEditMode && this.key == res.data.data.key ? true : false;\n                }\n            });\n        },\n        onSubmit: function () {\n            if (this.form.desc == \"\") {\n                let profile = User.getInfo();\n                this.params.desc = profile.name + \"创建\";\n            }\n            this.processing = true;\n            if (this.isEditMode) {\n                updateNamespace(this.form.ID, this.params)\n                    .then(() => {\n                        this.form.__index = this.data.index;\n                        this.onSuccess();\n                    })\n                    .finally(() => {\n                        this.processing = false;\n                    });\n            } else {\n                createNamespace(this.params)\n                    .then((res) => {\n                        this.form.user = {\n                            display_name: \"\",\n                        };\n                        this.onSuccess();\n                        this.count -= 1;\n                    })\n                    .finally(() => {\n                        this.processing = false;\n                    });\n            }\n        },\n        onSuccess() {\n            this.$notify.success({ title: \"成功\", message: \"提交成功\", showClose: false });\n            this.close(\"success\");\n            this.$emit(\"update\", this.form);\n        },\n    },\n\n    created() {\n        User.getAsset().then((data) => {\n            this.count = data.namespace_card_count;\n        });\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/namespace/form.less\";\n.el-form-item.m-input .el-form-item__content .u-available {\n    .mt(10px);\n    padding: 0 14px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=4f57adf6&\"\nimport script from \"./Form.vue?vue&type=script&lang=js&\"\nexport * from \"./Form.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Form.vue?vue&type=style&index=0&id=4f57adf6&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"m-content\">\n        <div class=\"m-user-info\">\n            <div class=\"m-name\">\n                <template v-if=\"isLogin\">\n                    <img :src=\"userInfo.avatar\" class=\"u-img\" />\n                    <span class=\"u-name\">{{ userInfo.name }}</span>\n                </template>\n            </div>\n            <div class=\"m-button\">\n                <el-button class=\"u-btn u-register\" @click=\"add\">注册铭牌</el-button>\n                <el-button class=\"u-btn u-mine\" @click=\"changeList\" v-if=\"isDefaultHost && isLogin\">\n                    {{ isMyList ? \"全部铭牌\" : \"我的铭牌\" }}\n                </el-button>\n            </div>\n        </div>\n        <div class=\"m-namespace\">\n            <!-- 搜索 -->\n            <div class=\"m-tool\">\n                <span class=\"u-title\">{{ title }}</span>\n                <div class=\"m-search\">\n                    <div class=\"m-tabs\">\n                        <span\n                            :class=\"[{ active: type == item.value }, 'u-tab']\"\n                            v-for=\"(item, i) in tabs\"\n                            :key=\"i\"\n                            @click=\"change(item.value)\"\n                            >{{ item.label }}</span\n                        >\n                    </div>\n                    <div class=\"u-search\" slot=\"search-before\" key=\"namespace-search\">\n                        <el-input\n                            placeholder=\"请输入搜索内容\"\n                            v-model.trim.lazy=\"search\"\n                            clearable\n                            @clear=\"onSearch\"\n                            @keydown.native.enter=\"onSearch\"\n                            class=\"u-input\"\n                        >\n                            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"onSearch\"></el-button>\n                        </el-input>\n                    </div>\n                </div>\n            </div>\n            <!-- 列表 -->\n            <div class=\"m-list\" v-loading=\"loading\" :class=\"{ isMyList }\">\n                <template v-if=\"list.length\">\n                    <div class=\"m-item\" v-for=\"(item, i) in list\" :key=\"i\">\n                        <a target=\"_blank\" :href=\"buildLink(item)\" class=\"m-title\">\n                            <div class=\"u-title\">\n                                <i class=\"el-icon-postcard\"></i><span>{{ item.key }}</span>\n                            </div>\n                            <el-tag class=\"u-tag\" v-if=\"item.status == 2\" type=\"danger\">被驳回</el-tag>\n                            <el-tag class=\"u-tag\" :type=\"item.status ? 'success' : 'info'\" v-else-if=\"isMyList\">\n                                {{ item.status ? \"生效中\" : \"审核中\" }}\n                            </el-tag>\n                            <span class=\"u-tag u-jx3\" v-else>剑网3.com/{{ item.key }}</span>\n                        </a>\n                        <span class=\"u-desc\">{{ item.desc }}</span>\n                        <div class=\"m-info\">\n                            <div class=\"m-text\">\n                                <span class=\"u-name\" v-if=\"item.user\">\n                                    <i class=\"el-icon-user\"></i>{{ item.user.display_name }}\n                                </span>\n                                <span><i class=\"el-icon-date\"></i>{{ dataFormat(item.created) }}</span>\n                            </div>\n                            <el-button class=\"u-edit\" size=\"mini\" @click.stop=\"edit(item, i)\">\n                                <i class=\"el-icon-edit\"></i> 编辑\n                            </el-button>\n                        </div>\n                    </div>\n                </template>\n                <span v-else class=\"m-item m-no-item\"> 暂无对应铭牌 </span>\n            </div>\n            <!-- 分页 -->\n            <div class=\"m-namespace-pages\">\n                <el-pagination\n                    background\n                    layout=\"prev, pager, next\"\n                    :hide-on-single-page=\"true\"\n                    :page-size=\"per\"\n                    :total=\"total\"\n                    :current-page.sync=\"page\"\n                ></el-pagination>\n            </div>\n        </div>\n        <!-- 弹窗 -->\n        <el-dialog title=\"铭牌注册\" :visible.sync=\"visible\" width=\"600\" :before-close=\"close\">\n            <Form :data=\"data\" @close=\"close\" @update=\"update\" />\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport { getNamespaceList, getNamespace } from \"@/service/namespace.js\";\nimport { publishLink } from \"@jx3box/jx3box-common/js/utils.js\";\nimport { showDate } from \"@jx3box/jx3box-common/js/moment\";\nimport { __Root } from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport { cloneDeep } from \"lodash\";\nimport User from \"@jx3box/jx3box-common/js/user\";\nimport Form from \"./Form\";\n\nexport default {\n    name: \"Content\",\n    data: function () {\n        return {\n            type: \"all\",\n            tabs: [\n                { label: \"全部\", value: \"all\" },\n                { label: \"玩家\", value: \"player\" },\n                { label: \"团队\", value: \"team\" },\n                { label: \"系统\", value: \"system\" },\n                { label: \"自定义\", value: \"custom\" },\n            ],\n\n            list: \"\",\n            per: 8,\n            total: 1,\n            page: 1,\n\n            search: \"\",\n            query: \"\",\n            loading: false,\n\n            isLogin: User.isLogin(),\n            userInfo: User.getInfo(),\n            isMyList: false,\n\n            visible: false,\n            form: {\n                key: \"\",\n                desc: \"\",\n                link: \"\",\n            },\n            data: {},\n\n            isDefaultHost: !location.origin.includes(\"jx3box.com\"),\n        };\n    },\n    components: {\n        Form,\n    },\n    computed: {\n        register_link: function () {\n            return publishLink(\"namespace\");\n        },\n        params: function () {\n            let _params = {\n                source_type: this.type == \"all\" ? \"\" : this.type,\n                page: this.page,\n                per: this.per,\n                status: 1,\n            };\n            return _params;\n        },\n        title() {\n            return this.isMyList ? \"我的铭牌\" : \"铭牌大厅\";\n        },\n    },\n    watch: {\n        type: function () {\n            this.page = 1;\n        },\n        params: {\n            deep: true,\n            immediate: true,\n            handler: function (newVal) {\n                this.query = \"\";\n                this.isMyList ? this.loadMyData() : this.loadData();\n            },\n        },\n        \"$route.query\": {\n            deep: true,\n            immediate: true,\n            handler: function (newVal) {\n                if (newVal.namespace) {\n                    this.search = newVal.namespace;\n                    setTimeout(() => {\n                        this.onSearch();\n                    }, 1000);\n                }\n            },\n        },\n    },\n    methods: {\n        change(key) {\n            this.type = key;\n        },\n        loadData() {\n            this.loading = true;\n            const params = this.removeEmpty(\n                Object.assign({}, this.params, {\n                    key: this.search,\n                })\n            );\n            getNamespaceList(params)\n                .then((res) => {\n                    this.list =\n                        res.data.data.list.map((item) => {\n                            item._link = cloneDeep(item.link);\n                            return item;\n                        }) || [];\n                    this.total = res.data.data.total;\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        loadMyData() {\n            this.loading = true;\n            const { source_type, page, per, status } = this.params;\n            const params = this.removeEmpty({\n                key: this.search,\n                source_type,\n                page,\n                limit: per,\n                status,\n            });\n            getNamespace(params)\n                .then((res) => {\n                    const list = res.data.data.data || [];\n                    this.list = list.map((item) => {\n                        item._link = cloneDeep(item.link);\n                        item.user.display_name = item.user.nickname;\n                        return item;\n                    });\n                    this.total = res.data.data.total;\n                })\n                .finally(() => {\n                    this.loading = false;\n                });\n        },\n        removeEmpty(obj) {\n            Object.keys(obj).forEach((key) => {\n                if (obj[key] === null || obj[key] === undefined || obj[key] === \"\") {\n                    delete obj[key];\n                }\n            });\n            return obj;\n        },\n        onSearch() {\n            if (this.page != 1) return (this.page = 1);\n            this.loadData();\n        },\n        dataFormat(val) {\n            return (val && showDate(~~val * 1000)) || \"-\";\n        },\n        changeList() {\n            if (!this.isLogin) return;\n            this.isMyList = !this.isMyList;\n            this.isMyList ? this.loadMyData() : this.loadData();\n        },\n        close(key) {\n            this.visible = false;\n            if (key == \"success\") this.loadMyData();\n        },\n        add() {\n            if (!this.isDefaultHost) {\n                location.href = `${__Root}event/namespace`;\n                return;\n            }\n\n            if (!this.isLogin) return User.toLogin();\n\n            this.visible = true;\n            this.data = {\n                mode: \"add\",\n                form: cloneDeep(this.form),\n            };\n        },\n        edit(item, i) {\n            this.visible = true;\n            this.data = {\n                mode: \"edit\",\n                form: cloneDeep(item),\n                index: i,\n            };\n        },\n        update(form) {\n            if (form.ID) {\n                this.list[form.__index] = form;\n            } else {\n                if (this.isMyList) this.loadMyData();\n            }\n        },\n        buildLink(item) {\n            if (item.source_type == \"team\") {\n                return __Root + \"team/org/\" + item.source_id;\n            } else {\n                return item._link || __Root + \"?namespace=\" + item.key;\n            }\n        },\n    },\n    created() {\n        this.query = this.$route.query.namespace;\n    },\n};\n</script>\n\n<style lang=\"less\">\n@import \"~@/assets/css/namespace/index.less\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Content.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Content.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Content.vue?vue&type=template&id=d761dc22&\"\nimport script from \"./Content.vue?vue&type=script&lang=js&\"\nexport * from \"./Content.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Content.vue?vue&type=style&index=0&id=d761dc22&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <!-- 专题页 -->\n    <div class=\"p-event\" :class=\"'v-' + page_name\">\n        <div class=\"p-event-content\">\n            <div class=\"m-top\"></div>\n            <Content />\n            <div class=\"m-bottom\">\n                <a :href=\"eventLink\" target=\"_blank\" class=\"u-link\"></a>\n                <img :src=\"imgRoot + 'man.png'\" class=\"m-man\" />\n                <img :src=\"imgRoot + 'woman.png'\" class=\"m-woman\" />\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Content from \"./Content\";\nimport { postStat } from \"@jx3box/jx3box-common/js/stat\";\nimport { __imgPath, __Root } from \"@jx3box/jx3box-common/data/jx3box.json\";\nexport default {\n    name: \"Index\",\n    components: {\n        Content,\n    },\n    data: function () {\n        return {\n            imgRoot: __imgPath + \"topic/namespace/\",\n        };\n    },\n    computed: {\n        page_name: function () {\n            return \"namespace\";\n        },\n        eventLink() {\n            return __Root + \"event\";\n        },\n    },\n    created: function () {\n        postStat(\"event\", \"namespace\");\n    },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=755b8704&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Content.vue?vue&type=style&index=0&id=d761dc22&prod&lang=less&\""],"sourceRoot":""}