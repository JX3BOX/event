(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-060adee0"],{"0d76":function(t,i,s){"use strict";s.d(i,"a",(function(){return a}));var o=s("41cb");function a(t){return Object(o["a"])({mute:!0}).get("/api/cms/topic",{params:{type:t,all:1,status:1}})}},5010:function(t,i,s){"use strict";s("ec47")},"759a":function(t,i,s){"use strict";s.r(i);s("b0c0");var o=function(){var t=this,i=t._self._c;return i("div",{staticClass:"p-event-blindbox"},[i("el-image",{staticClass:"m-bg",attrs:{src:"".concat(t.__imgRoot,"bg.png"),fit:"cover"}}),i("div",{staticClass:"p-event-content"},[i("div",{staticClass:"m-content"},[i("div",{staticClass:"m-left"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:"".concat(t.__imgRoot,"logo.png"),alt:"魔盒盲盒"}})]),i("div",{staticClass:"m-box"},[t._l(10,(function(s,o){return i("div",{key:s,class:["u-box",{active:o===t.active}],on:{click:function(i){return t.change(o)}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.showBox(o),expression:"showBox(index)"}],key:t.replay+"box"+o,class:"u-img u-img-".concat(o+1),attrs:{src:"".concat(t.__imgRoot,"box.png"),alt:"奖品"}})])})),i("div",{class:["u-mark",{active:t.active}]})],2)]),i("div",{staticClass:"m-right"},[i("div",{staticClass:"m-point"},[t._v(t._s(t.points))]),i("div",{staticClass:"m-prize box"},[i("div",{staticClass:"m-title"},[i("img",{attrs:{src:"".concat(t.__imgRoot,"prize.png"),alt:"奖品一览"}})]),i("div",{staticClass:"m-item"},[i("div",{ref:"scrollBlock",staticClass:"m-scroll-block",style:{animationDuration:t.animationDuration}},[t._l(t.prizeList,(function(s,o){return i("img",{key:"prize".concat(o),attrs:{src:s.url,alt:s.name},on:{load:t.onLoadPrizeList}})})),t._l(t.prizeList,(function(s,o){return i("img",{key:"prize_end".concat(o),attrs:{src:s.url,alt:s.name},on:{load:t.onLoadPrizeList}})}))],2)])]),i("div",{staticClass:"m-lottery"},[i("img",{staticClass:"u-img refresh",attrs:{src:"".concat(t.__imgRoot,"refresh.png"),alt:"刷新盲盒"},on:{click:t.refreshBox}}),i("img",{staticClass:"u-img random",attrs:{src:"".concat(t.__imgRoot,"random.png"),alt:"随机开盒"}}),i("img",{staticClass:"u-img open",attrs:{src:"".concat(t.__imgRoot,"open.png"),alt:"十连开盒"}}),i("div",{staticClass:"m-history box u-img",class:{history:t.history,close:t.close}},[i("div",{staticClass:"m-title"},[i("img",{attrs:{src:"".concat(t.__imgRoot,"history.png"),alt:"开盒记录"},on:{click:t.openHistory}}),i("img",{staticClass:"u-close",attrs:{src:"".concat(t.__imgRoot,"close.png"),alt:"关闭"},on:{click:t.closeHistory}})]),i("div",{staticClass:"m-history-content"})])])])])]),i("div",{staticClass:"m-goods",class:{active:t.show_goods}},[i("div",{staticClass:"m-item"},t._l(10,(function(t){return i("div",{key:t,staticClass:"u-item box"})})),0),i("img",{staticClass:"u-get",attrs:{src:"".concat(t.__imgRoot,"get.png"),alt:"拿下"},on:{click:function(i){t.show_goods=!1}}})])],1)},a=[],c=(s("d3b7"),s("159b"),s("14d9"),s("caad"),s("2532"),s("0d76")),n=s("41cb");function e(t){return Object(n["d"])().get("/lucky-draw/public/details",{params:{id:t}})}var r=s("c9d2"),l="blindbox",u={name:"Index",inject:["__imgRoot"],data:function(){return{ID:0,isLogin:r["a"].isLogin(),prizeList:[],history:!1,close:!1,open:!1,all:!1,show_goods:!1,active:"",replay:0,activeList:[],animationDuration:"0s"}},computed:{data:function(){var t={};return this.raw.forEach((function(i){t[i.subtype]||(t[i.subtype]=[]),t[i.subtype].push(i)})),t},Asset:function(){return r["a"].getAsset()},points:function(){return console.log(this.Asset),this.isLogin?0:"请登录"}},mounted:function(){this.init()},methods:{init:function(){var t=this;Object(c["a"])(l).then((function(i){t.raw=i.data.data,t.ID=~~t.data.ID[0].title,t.ID&&e(t.ID).then((function(i){var s=i.data.data;console.log(s),t.prizeList=s.prize}))}))},showBox:function(t){return!this.activeList.includes(t)},refreshBox:function(){this.activeList=[],this.replay++},onLoadPrizeList:function(){this.animationDuration="".concat(this.$refs.scrollBlock.offsetWidth/200,"s")},change:function(t){var i=this;this.active=~~t,setTimeout((function(){i.activeList.push(~~t),i.show_goods=!0,i.active=""}),1800)},openHistory:function(){this.history=!0,this.close=!1},closeHistory:function(){this.history=!1,this.close=!0}}},m=u,d=(s("5010"),s("2877")),g=Object(d["a"])(m,o,a,!1,null,null,null);i["default"]=g.exports},ec47:function(t,i,s){}}]);
//# sourceMappingURL=chunk-060adee0.6bfd9359.js.map